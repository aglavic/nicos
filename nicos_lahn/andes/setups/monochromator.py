description = 'monochromator setup'

group = 'lowlevel'

devices = dict(
    mtt = device('nicos.devices.generic.Axis',
        description = '2 theta axis moving sample table arm',
        motor = device('nicos.devices.generic.VirtualMotor',
                abslimits = (40, 110),
                unit = 'mm',
                speed = 1,
        ),
        precision = 0.01,
        fmtstr = '%.2f',
    ),
    mtt_opMode = device('nicos.devices.generic.Switcher',
        description = '2 theta axis operation modes',
        moveable = 'mtt',
        mapping = {
            'min': 40,
            'hf': 70,
            'hi2': 42,
        },
        precision = 0.01,
        unit = '',
        lowlevel = True,
    ),
    crystal_m = device('nicos.devices.generic.Axis',
        description = 'monochromator changer rotation table',
        motor = device('nicos.devices.generic.VirtualMotor',
            abslimits = (1, 3),
            unit = 'deg',
        ),
        precision = 0.01,
    ),
    crystal = device('nicos.devices.generic.Switcher',
        description = 'monochromator changer',
        moveable = 'crystal_m',
        mapping = {
            'BPC': 1,
            'Ge': 2,
            'PG': 3,
        },
        precision = 0.01,
        unit = '',
    ),
    lms = device("nicos.devices.generic.Axis",
        description = "sample table arm translation",
        motor = device('nicos.devices.generic.VirtualMotor',
                abslimits = (1600, 2800),
                unit = 'mm',
                speed = 1,
        ),
        precision = 0.01,
        fmtstr = "%.2f",
    ),
    lms_opMode = device('nicos.devices.generic.Switcher',
        description = 'sample table arm operation modes',
        moveable = 'mtt',
        mapping = {
            'min': 1600,
        },
        precision = 0.01,
        unit = '',
        lowlevel = True,
    ),
)
