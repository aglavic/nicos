description = 'External ILL camera'

group = 'optional'

devices = dict(
    trigger_hw = device('nicos.devices.generic.ManualSwitch',
        states = [0, 1],
        lowlevel = True,
    ),
    fastshutter = device('nicos.devices.generic.ManualSwitch',
        description = 'Fast shutter device',
        states = ['closed', 'open'],
    ),
    trigger = device('nicos.devices.generic.Pulse',
        description = 'Camera trigger',
        onvalue = 1,
        offvalue = 0,
        ontime = 0.1,
        moveable = 'trigger_hw',
        lowlevel = True,
    ),
    timer_ill = device('nicos_mlz.antares.devices.TriggerTimer',
        description = 'Software timer',
        trigger = 'trigger',
    ),
    det_ill = device('nicos.devices.generic.Detector',
        description = 'The ILL detector',
        timers = ['timer_ill'],
    ),
    sry = device('nicos.devices.generic.VirtualMotor',
        description = 'Sample Rotation around Y',
        precision = 0.01,
        abslimits = (-999999, 999999),
        pollinterval = 5,
        maxage = 12,
        unit = 'deg',
        speed = 10,
    ),
)
