description = 'sample stage'
group = 'optional'
display_order = 70

tango_base = configdata('instrument.values')['tango_base'] + 'box/'

devices = dict(
    phis = device('nicos.devices.entangle.Motor',
        description = 'sample rotation around base normal',
        tangodevice = tango_base + 'huber/phi',
        unit = 'deg',
        precision = 5e-3,
        fmtstr = '%.4f',
    ),
    # sgz = device('nicos.devices.generic.DeviceAlias',
    #     alias = 'phis',
    #     visibility = {'metadata', 'namespace'},
    # ),
    chis = device('nicos.devices.entangle.Motor',
        description = 'sample tilt around beam axis',
        tangodevice = tango_base + 'huber/chi',
        unit = 'deg',
        precision = 2.5e-4,
        fmtstr = '%.4f',
    ),
    # sgx = device('nicos.devices.generic.DeviceAlias',
    #     alias = 'chis',
    #     visibility = {'metadata', 'namespace'},
    # ),
    omgs = device('nicos.devices.entangle.Motor',
        description = 'sample theta angle',
        tangodevice = tango_base + 'bruker/theta',
        unit = 'deg',
        precision = 1e-3,
        fmtstr = '%.3f',
    ),
    # sth = device('nicos.devices.generic.DeviceAlias',
    #     alias = 'omgs',
    #     visibility = {'metadata', 'namespace'},
    # ),
    ctt = device('nicos_mlz.labs.physlab.devices.coupled.CoupledMotor',
        description = 'Coupled Theta / 2Theta axis',
        maxis = 'tths',
        caxis = 'omgs',
        unit = 'deg',
        fmtstr = '%.3f',
    ),
    tths = device('nicos.devices.entangle.Motor',
        description = 'sample two-theta angle',
        tangodevice = tango_base + 'bruker/ttheta',
        unit = 'deg',
        precision = 1e-3,
        fmtstr = '%.3f',
    ),
    # stt = device('nicos.devices.generic.DeviceAlias',
    #     alias = 'tths',
    #     visibility = {'metadata', 'namespace'},
    # ),
    stx = device('nicos.devices.entangle.Motor',
        description = 'sample translation along the beam',
        tangodevice = tango_base + 'huber/x',
        unit = 'mm',
        precision = 5e-4,
        fmtstr = '%.4f',
    ),
    sty = device('nicos.devices.entangle.Motor',
        description = 'sample translation horizontally perpendicular to the beam',
        tangodevice = tango_base + 'huber/y',
        unit = 'mm',
        precision = 5e-4,
        fmtstr = '%.4f',
    ),
    stz = device('nicos.devices.entangle.Motor',
        description = 'sample translation in vertical direction',
        tangodevice = tango_base + 'huber/z',
        unit = 'mm',
        precision = 1.5e-4,
        fmtstr = '%.4f',
    ),
)
