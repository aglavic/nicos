description = 'MORPHEUS Slit motors'

pvprefix = 'SQ:MORPHEUS:mota:'

devices = dict(
    mota = device('nicos_ess.devices.epics.extensions.EpicsCommandReply',
        epicstimeout = 3.0,
        description = 'Mota controller direct',
        commandpv = 'SQ:MORPHEUS:MOTA' + '.AOUT',
        replypv = 'SQ:MORPHEUS:MOTA' + '.AINP',
    ),
    d1r = device('nicos_ess.devices.epics.motor.EpicsMotor',
        epicstimeout = 3.0,
        description = 'Slit 1 right motor',
        motorpv = pvprefix + 'd1r',
        errormsgpv = pvprefix + 'd1r-MsgTxt',
        precision = 0.01,
    ),
    d1l = device('nicos_ess.devices.epics.motor.EpicsMotor',
        epicstimeout = 3.0,
        description = 'Slit 1 left motor',
        motorpv = pvprefix + 'd1l',
        errormsgpv = pvprefix + 'd1l-MsgTxt',
        precision = 0.01,
    ),
    d2r = device('nicos_ess.devices.epics.motor.EpicsMotor',
        epicstimeout = 3.0,
        description = 'Slit 2 right motor',
        motorpv = pvprefix + 'd2r',
        errormsgpv = pvprefix + 'd2r-MsgTxt',
        precision = 0.01,
    ),
    d2l = device('nicos_ess.devices.epics.motor.EpicsMotor',
        epicstimeout = 3.0,
        description = 'Slit 2 left motor',
        motorpv = pvprefix + 'd2l',
        errormsgpv = pvprefix + 'd2l-MsgTxt',
        precision = 0.01,
    ),
    d3r = device('nicos_ess.devices.epics.motor.EpicsMotor',
        epicstimeout = 3.0,
        description = 'Slit 3 right motor',
        motorpv = pvprefix + 'd3r',
        errormsgpv = pvprefix + 'd3r-MsgTxt',
        precision = 0.01,
    ),
    d3l = device('nicos_ess.devices.epics.motor.EpicsMotor',
        epicstimeout = 3.0,
        description = 'Slit 3 left motor',
        motorpv = pvprefix + 'd3l',
        errormsgpv = pvprefix + 'd3l-MsgTxt',
        precision = 0.01,
    ),
    dxb = device('nicos_ess.devices.epics.motor.EpicsMotor',
        epicstimeout = 3.0,
        description = 'Shared slit bottom motor',
        motorpv = pvprefix + 'dxb',
        errormsgpv = pvprefix + 'dxb-MsgTxt',
        precision = 0.01,
    ),
    dxt = device('nicos_ess.devices.epics.motor.EpicsMotor',
        epicstimeout = 3.0,
        description = 'Shared slit top motor',
        motorpv = pvprefix + 'dxt',
        errormsgpv = pvprefix + 'dxt-MsgTxt',
        precision = 0.01,
    ),
    aldi = device('nicos_sinq.morpheus.devices.aldimotor.AldiController',
        description = 'Controller for slit stage switching',
        motors = ['dxt', 'dxb'],
        motor_controller = 'mota',
        readpv = 'SQ:MORPHEUS:SPS1:DigitalInput',
        writepv = 'SQ:MORPHEUS:SPS1:Push'
    ),
    d1t = device('nicos_sinq.morpheus.devices.aldimotor.AldiMotor',
        description = 'Slit 1 top motor',
        stage_number = 1,
        real_motor = 'dxt',
        unit = 'mm',
        controller = 'aldi'
    ),
    d1b = device('nicos_sinq.morpheus.devices.aldimotor.AldiMotor',
        description = 'Slit 1 bottom motor',
        stage_number = 1,
        real_motor = 'dxb',
        unit = 'mm',
        controller = 'aldi'
    ),
    d2t = device('nicos_sinq.morpheus.devices.aldimotor.AldiMotor',
        description = 'Slit 2 top motor',
        stage_number = 2,
        real_motor = 'dxt',
        unit = 'mm',
        controller = 'aldi'
    ),
    d2b = device('nicos_sinq.morpheus.devices.aldimotor.AldiMotor',
        description = 'Slit 2 bottom motor',
        stage_number = 2,
        real_motor = 'dxb',
        unit = 'mm',
        controller = 'aldi'
    ),
    d3t = device('nicos_sinq.morpheus.devices.aldimotor.AldiMotor',
        description = 'Slit 3 top motor',
        stage_number = 3,
        real_motor = 'dxt',
        unit = 'mm',
        controller = 'aldi'
    ),
    d3b = device('nicos_sinq.morpheus.devices.aldimotor.AldiMotor',
        description = 'Slit 3 bottom motor',
        stage_number = 3,
        real_motor = 'dxb',
        unit = 'mm',
        controller = 'aldi'
    ),
    slit1 = device('nicos.devices.generic.slit.Slit',
        description = 'Slit 1 with left, right, bottom and top motors',
        opmode = '4blades',
        left = 'd1l',
        right = 'd1r',
        top = 'd1t',
        bottom = 'd1b',
        lowlevel = True
    ),
    slit1_opening = device('nicos_sinq.amor.devices.slit.SlitOpening',
        description = 'Slit 1 opening controller',
        slit = 'slit1',
    ),
    slit1_width = device('nicos.devices.generic.slit.WidthSlitAxis',
        description = 'Slit 1 width controller',
        slit = 'slit1',
        unit = 'mm',
    ),
    slit2 = device('nicos.devices.generic.slit.Slit',
        description = 'Slit 2 with left, right, bottom and top motors',
        opmode = '4blades',
        left = 'd2l',
        right = 'd2r',
        top = 'd2t',
        bottom = 'd2b',
        lowlevel = True
    ),
    slit2_opening = device('nicos_sinq.amor.devices.slit.SlitOpening',
        description = 'Slit 2 opening controller',
        slit = 'slit2',
    ),
    slit2_width = device('nicos.devices.generic.slit.WidthSlitAxis',
        description = 'Slit 2 width controller',
        slit = 'slit2',
        unit = 'mm',
    ),
    slit3 = device('nicos.devices.generic.slit.Slit',
        description = 'Slit 3 with left, right, bottom and top motors',
        opmode = '4blades',
        left = 'd3l',
        right = 'd3r',
        top = 'd3t',
        bottom = 'd3b',
        lowlevel = True
    ),
    slit3_opening = device('nicos_sinq.amor.devices.slit.SlitOpening',
        description = 'Slit 3 opening controller',
        slit = 'slit3',
    ),
    slit3_width = device('nicos.devices.generic.slit.WidthSlitAxis',
        description = 'Slit 3 width controller',
        slit = 'slit3',
        unit = 'mm',
    ),
)
